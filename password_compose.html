<html>
<head>
    
    <link rel="stylesheet" href="password.css">
    
    <!--these are links to Google Font CDNs-->
    <link href="https://fonts.googleapis.com/css?family=Crimson+Text" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond" rel="stylesheet">
    
</head>
    
<body>

    <p id="password-button" onclick="togglePassword(0)">ADD PASSWORD</p>
    
    <!--after saving, the password is stored as variable "myPassword" -->
    <!--the class is changed to "enabled" after you click #password-button -->
    <div id="pw-set-container" class="disabled">
        <input type="password" id="myPassword" autofocus="true" autocomplete="off">
        <img id="eye" onclick="toggleEye()" src="eye.png"/>
        <button type="button" id="save" onclick="savePassword()"><span>SAVE</span></button>
    </div>
    
    <p id="demo"></p>
    
    <script>
        var saved_password = ""; //this variable is saved as the password
        
        
        function togglePassword(z) {
            var password_button = document.getElementById("password-button");
            var element = document.getElementById("pw-set-container");
            
            if (z===0) {
                //to edit password: remove password button, show password element
                password_button.classList.add("disabled");
                element.classList.remove("disabled");
                document.getElementById("myPassword").focus(); //focus the cursor
                document.getElementById("myPassword").type = "password"; //mask password by default
                
            } else {
                //to save password: remove password element; show password button
                password_button.classList.remove("disabled");
                element.classList.add("disabled");
                
                //change "add password" to "edit password"
                if (saved_password.length !== 0) {
                    password_button.innerHTML = "EDIT PASSWORD";
                } else {
                    password_button.innerHTML = "ADD PASSWORD";
                }
            }
        }
        
        function toggleEye(z) {
            var x = document.getElementById("myPassword");
            if (x.type === "text") {
                x.type = "password";
            } else {
                x.type = "text";
            }
            document.getElementById("myPassword").focus(); //refocus the cursor
        }
        
        function savePassword() {  
            saved_password = document.getElementById("myPassword").value;
            document.getElementById("demo").innerHTML = "Saved password: " + saved_password;
            togglePassword(1);
        }
        
        document.getElementById("myPassword").onkeyup = function(e) {
            if (e.which===13) {
                //enter button on keyboard -> saves the password
                document.getElementById("save").click();
            }   
        }
        
    </script>
    
</body>
    
</html>